<html>
  <head>
    <title>bar example</title>
    <style>
      .bar {stroke-width:0}
      .bar:hover {stroke:#FF0000; stroke-width:2}
      .milestone {fill:#66FF33}
      .milestone:hover {fill:#FFFFFF; stroke:#000000; stroke-width:2}
    </style>
    <script language="javascript">
      function toggle(sub_name){
        var obj = document.getElementById(sub_name);
        if(obj)
        {
          if(obj.style.display=="none")
            obj.style.display="block";
          else
            obj.style.display="none";
        }
      }
      function initBar()
      {
        var pic=document.getElementById('pic');
        var bars = pic.getElementsByTagName('rect');
        for(var i = 0, bar; i < bars.length; i++)
        {
          bar = bars[i];
          if(bar.getAttribute('class') == "bar")
          {
            bar.setAttribute('height', 10);
            bar.setAttribute('rx', 5);
            bar.setAttribute('ry', 5);
          }
        }
      }
      function initPoint()
      {
        var pic=document.getElementById('pic');
        var points = pic.getElementsByTagName('polygon');
        for(var i = 0, point; i < points.length; i++)
        {
          point = points[i];
          if(point.getAttribute('class') == "milestone")
          {
            var x = point.getAttribute('x');
            var y = point.getAttribute('y');
            var s = x + "," + y + " " + (x - 3) + "," + (y - 13) + " " + (x - -3) + "," + (y - 13);
            point.setAttribute('points', s);
          }
        }
      }
      window.addEventListener('load', initBar, true);
      window.addEventListener('load', initPoint, true);
    </script>
  </head>
  <body>
    <svg id="pic" width = "1000" height="600">
    <rect class="bar" x="10" y="10" width="800" fill="blue" onclick=toggle("sub_bar_1") />
    <g id="sub_bar_1">
    <rect class="bar" x="10" y="30" width="400" fill="green" />
    <rect class="bar" x="410" y="50" width="400" fill="green" />
    <polygon class="milestone" x="10" y="15" />
    <polygon class="milestone" x="450" y="55" />
    </g>
    <svg>
  </body>
</html>

